# 要件定義書

## ローカリー（仮名）デモンストレーション

**対象特許:** 特開2021-033380（特許第6837635号）
**サービス名:** ローカリー（仮名）

---

## 1. プロジェクト概要

### 1.1 目的

特許 JP-2021-033380 に基づく「商品情報提示システム」を活用したサービス**ローカリー**のデモンストレーション用Webアプリケーションを開発する。

ローカリーは、**実店舗の商品をEC商品URLに変換する仕組み**を導入企業に提供するサービスである。導入企業は**対象商品ごとに「商品短縮ID」と「多角形エリア」を指定するだけ**で特許技術を活用でき、導入が極めて簡単である。

### 1.2 コアバリュー

```text
導入の簡単さ:
  実店舗商品 → EC商品URL への変換を仕込むだけ

導入企業が行うこと:
  ① 商品ごとに「商品短縮ID」を決める（数字のみ、1〜8桁）
  ② 商品ごとに「多角形エリア」を指定する（緯度経度の頂点リスト）
  → これだけで特許技術を活用可能
```

### 1.3 特許技術の要約

本特許は、**店舗位置情報**と**商品短縮ID**を組み合わせることで、ユーザが実店舗で見かけた商品の情報をオンラインで取得し、EC購入へ誘導できるシステムに関する。

#### 特許の基本構成

```text
┌──────────────┐         ┌──────────────────────┐
│  ユーザ端末   │────────▶│  商品情報提示用サーバ     │
│ （スマホ等）  │◀────────│  （検索・提示エンジン）   │
└──────────────┘         └──────────────────────┘
      │                         │
      │ 送信:                   │ 処理:
      │ ・店舗位置情報           │ ・店舗位置情報＋商品短縮IDで検索
      │ ・商品短縮ID            │ ・該当商品情報を抽出
      │                         │ ・EC商品URLをユーザ端末に返送
      │ 受信:                   │
      │ ・商品情報（名称,価格,   │ データ:
      │   画像,EC購入リンク等）  │ ・商品情報リスト
      │                         │ ・店舗位置データ
```

#### 特許請求の範囲（4項）

| 請求項 | 種別 | 概要 |
| -------- | ------ | ------ |
| 請求項1 | システム | 商品情報提示用サーバとユーザ端末を備え、店舗位置情報および商品IDに基づいて該当商品情報を検索・送信するシステム |
| 請求項2 | 方法 | ユーザ端末から店舗位置情報・商品IDを送信し、サーバが商品情報リストから検索して結果を返す方法 |
| 請求項3 | サーバ | サーバ通信装置、サーバ記憶装置（商品情報リスト）、サーバ制御装置を備えた商品情報提示用サーバ |
| 請求項4 | プログラム | サーバ制御装置に上記処理を実行させるプログラム |

#### 特許の核心的価値

1. **位置依存型短縮コード**: 位置情報と組み合わせることで、**1桁の数字だけでも**商品を特定可能
2. **語呂合わせ活用**: 数字IDを語呂合わせで覚えやすくし、ブランド認知と販促に活用可能
3. **ショールーミング対応**: 実店舗で見かけた商品をその場でEC購入へ誘導可能
4. **O2O（Online to Offline / Offline to Online）ブリッジ**: 実店舗とECの顧客体験をシームレスに接続
5. **低コスト導入**: 商品短縮ID＋多角形エリアを指定するだけで導入完了
6. **同一ID共存**: 1つの場所で同じIDが複数の店舗に存在する場合、エンドユーザーが選択する設計（特許記載準拠）

---

## 2. 特許範囲の明示

### 2.1 特許が保護する技術的範囲

| 構成要素 | 詳細 | 保護範囲 |
| ---------- | ------ | ---------- |
| **ユーザ端末** | スマートフォン、タブレット等のモバイル端末 | 店舗位置情報と商品IDの送信機能を持つ端末全般 |
| **商品情報提示用サーバ** | 商品情報リストを保持し、検索・返送を行うサーバ | クラウド、オンプレミス問わずサーバ処理全般 |
| **店舗位置情報** | GPS、Wi-Fi、ビーコン等による位置情報 | 位置特定手段を問わない |
| **商品短縮ID** | ユーザが入力する商品識別コード（数字） | 桁数、形式を問わない |
| **商品情報リスト** | 店舗位置データと商品IDを含むデータベース | データ構造を問わない |
| **検索・提示処理** | 位置情報＋商品IDによる絞り込み検索 | アルゴリズムを問わない |

### 2.2 権利の範囲

- **国内特許**: 日本国特許第6837635号（有効・存続中）
- **国際出願**: PCT/JP2020/030880（国際展開の基盤）
- **権利の存続期間**: ～2039年8月16日
- **権利の効力**: 日本国内における製造、使用、販売、輸入等の独占的権利

### 2.3 実施許諾について

本デモンストレーションシステムは特許権者の許諾の下で開発されたものである。第三者が本特許技術を利用する場合は、特許権者からのライセンス取得が必要となる。

---

## 3. ローカリーの料金体系

### 3.1 料金モデルの基本方針

ローカリーの料金は以下の2軸で決定される：

1. **商品短縮IDの桁数**: 短いほど希少 → 高額
2. **多角形エリアの広さ**: 広いほど多くのエンドユーザーにリーチ → 高額

```text
料金 = ID桁数料金 × エリア面積係数

  IDが短い → 希少価値 → 高い
  IDが長い → 大量供給可能 → 安い

  エリアが広い → リーチ大 → 高い
  エリアが狭い → リーチ小 → 安い
```

### 3.2 商品短縮ID 桁数別料金（月額・1商品あたり）

| ID桁数 | ID例 | 候補数 | 月額料金（税別） | 備考 |
| -------- | ------ | -------- | ------------------ | ------ |
| 1桁 | 3, 7 | 10個 | ¥50,000 | ⭐ プレミアム。希少価値が極めて高い |
| 2桁 | 29, 56 | 90個 | ¥20,000 | 覚えやすく語呂合わせ可能 |
| 3桁 | 104, 893 | 900個 | ¥8,000 | バランス型 |
| 4桁 | 4649, 1129 | 9,000個 | ¥3,000 | 語呂合わせ活用に最適 |
| 5桁 | 31504, 10893 | 90,000個 | ¥1,500 | 中規模向け |
| 6桁 | 310456, 114514 | 900,000個 | ¥800 | 大規模チェーン向け |
| 7桁 | 4649310, 1192296 | 9,000,000個 | ¥400 | 大量商品管理向け |
| 8桁 | 11290416, 31415926 | 90,000,000個 | ¥200 | 最大桁数。低価格で大量展開 |

### 3.3 多角形エリア面積別料金（月額・1エリアあたり）

| エリア面積 | 目安範囲 | 月額料金（税別） | ユースケース |
| ------------ | ---------- | ------------------ | -------------- |
| 〜0.01 km² | 店舗周辺100m圏 | ¥500 | 個人店舗・小規模商圏 |
| 〜0.1 km² | 店舗周辺300m圏 | ¥1,500 | 商店街・駅前エリア |
| 〜1 km² | 半径約500m圏 | ¥5,000 | 地域密着型チェーン |
| 〜10 km² | 半径約1.8km圏 | ¥15,000 | 都市部広域展開 |
| 〜100 km² | 半径約5.6km圏 | ¥40,000 | 郊外・広域チェーン |
| 100 km²超 | 都道府県単位 | ¥100,000 | 全国チェーン・プレミアム |

### 3.4 デモ用の料金例

#### 例1: 個人経営コンビニ（小規模）

| 項目 | 内容 | 月額 |
| ------ | ------ | ------ |
| 商品短縮ID | 2桁 × 5商品 | ¥20,000 × 5 = ¥100,000 |
| 多角形エリア | 〜0.1 km² × 5エリア | ¥1,500 × 5 = ¥7,500 |
| **合計** | | **¥107,500/月** |

#### 例2: 地域アパレルチェーン（中規模）

| 項目 | 内容 | 月額 |
| ------ | ------ | ------ |
| 商品短縮ID | 4桁 × 30商品 | ¥3,000 × 30 = ¥90,000 |
| 多角形エリア | 〜1 km² × 30エリア | ¥5,000 × 30 = ¥150,000 |
| **合計** | | **¥240,000/月** |

#### 例3: 全国家電量販チェーン（大規模）

| 項目 | 内容 | 月額 |
| ------ | ------ | ------ |
| 商品短縮ID | 6桁 × 500商品 | ¥800 × 500 = ¥400,000 |
| 多角形エリア | 〜10 km² × 500エリア | ¥15,000 × 500 = ¥7,500,000 |
| **合計** | | **¥7,900,000/月** |

#### 例4: プレミアム1桁ID（ブランド商品）

| 項目 | 内容 | 月額 |
| ------ | ------ | ------ |
| 商品短縮ID | 1桁 × 1商品 | ¥50,000 × 1 = ¥50,000 |
| 多角形エリア | 〜100 km²（都市全域） | ¥40,000 × 1 = ¥40,000 |
| **合計** | | **¥90,000/月** |

### 3.5 語呂合わせIDの付加価値

数字IDは語呂合わせで覚えやすくなり、販促効果が高まる。

| ID | 語呂合わせ | 活用例 |
| ------ | ------------ | -------- |
| 29 | にく（肉） | 精肉店・焼肉店 |
| 39 | サンキュー | お礼・感謝セール品 |
| 104 | いれよ（入れよ） | カゴに入れよう促進 |
| 1129 | いいにく（いい肉） | 高級精肉 |
| 2951 | にくごい（肉来い） | 肉のデリバリー |
| 3150 | さいこう（最高） | おすすめ商品 |
| 4649 | よろしく | 新商品・挨拶系 |
| 4989 | しくはく（至急） | タイムセール品 |
| 5963 | ごくろうさん | ギフト・お疲れ様商品 |
| 8931 | はくさい（白菜） | 野菜直売所 |

---

## 4. 機能導入による効果

### 4.1 導入企業にとっての効果

| 効果カテゴリ | 詳細 | 定量的期待値 |
| -------------- | ------ | -------------- |
| **導入コスト最小** | 商品短縮ID＋エリア指定のみで開始 | 導入工数 数時間〜1日 |
| **売上向上** | 実店舗来店客のEC購入率向上 | EC売上 10-30%増 |
| **顧客体験改善** | 「見る→買う」までのステップ短縮 | 購入完了率 20-40%改善 |
| **在庫効率化** | 店舗在庫がなくてもEC在庫で対応 | 機会損失 30-50%削減 |
| **データ収集** | 店舗内行動データのデジタル化 | 顧客行動データ取得量 5-10倍 |
| **販促最適化** | 位置情報×商品興味のクロスデータ活用 | 広告ROI 15-25%改善 |
| **顧客囲い込み** | 自社ECへの誘導による他社EC流出防止 | 顧客離脱率 10-20%削減 |
| **オムニチャネル推進** | 実店舗とECの統合的な顧客管理 | LTV 15-30%向上 |

### 4.2 消費者にとっての効果

- **利便性向上**: 店舗で見かけた商品をその場で即座に情報取得・購入可能
- **比較購買**: 複数ECサイトの価格・在庫を一括比較
- **購入機会拡大**: 店舗に在庫がない商品もECで購入可能
- **情報の正確性**: 位置情報ベースのため、確実に「その店舗の、その商品」の情報を取得

### 4.3 市場全体への効果

- **O2O市場の活性化**: 実店舗とECの共存モデルの確立
- **ショールーミングの正の転換**: 実店舗の価値を再定義し、来店動機の創出
- **地域経済活性化**: 地方店舗のEC展開を低コストで実現

### 4.4 店頭掲示・販促ガイドライン

店頭で商品短縮IDを掲示する際は、**「利便性」と「即購入できること」を明確に訴求**することで購買につながりやすくなる。単にIDを表示するだけでなく、エンドユーザーに「今すぐ行動するメリット」を伝える掲示が重要である。

#### 掲示の基本原則

| 原則 | 詳細 | 効果 |
| ------ | ------ | ------ |
| **即購入訴求** | 「ローカリーですぐ購入！」等の行動喚起メッセージ | 購入までの心理的ハードルを下げる |
| **利便性強調** | 「スマホでIDを入力するだけ」等の簡単さアピール | 初回利用者の不安を解消 |
| **ID視認性** | 商品短縮IDを大きく・目立つフォントで表示 | 読み取りやすさが利用率に直結 |
| **語呂合わせ併記** | 「4649（よろしく）」のように読みを添える | 記憶に残りやすく口コミ効果も期待 |
| **QRコード併用** | ローカリーアプリ/Webへの導線QRコードを併記 | アプリ未導入ユーザーの即時参加を促進 |

#### 店頭POP/サイネージの掲示例

```text
┌───────────────────────────────────────┐
│                                       │
│  ⭐ ローカリーですぐ購入！ ⭐          │  ← 行動喚起メッセージ
│                                       │
│  ┌─────────────────────────────────┐  │
│  │                                 │  │
│  │   この商品のID:  29             │  │  ← 商品短縮ID（大きく表示）
│  │          （にく）               │  │  ← 語呂合わせ読み
│  │                                 │  │
│  └─────────────────────────────────┘  │
│                                       │
│  📱 スマホでIDを入力するだけ！         │  ← 利便性の強調
│     店舗在庫がなくてもECで即購入       │  ← 在庫切れ時のメリット
│                                       │
│  ┌──────┐                            │
│  │ QR   │  アプリのダウンロードは     │  ← QRコード
│  │ CODE │  こちらから                 │
│  └──────┘                            │
│                                       │
└───────────────────────────────────────┘
```

#### 業種別の効果的な掲示メッセージ例

| 業種 | 掲示メッセージ例 | ID例 | 訴求ポイント |
| ------ | -------------------- | ------ | -------------- |
| **精肉店** | 「ID: 29（にく）でいい肉をすぐお取り寄せ！」 | 29 | 語呂合わせ＋即購入 |
| **アパレル** | 「試着した服、ローカリーで即購入→ご自宅にお届け！」 | 3150 | 手ぶら帰宅＋配送利便性 |
| **家電量販** | 「気になる家電、IDを入力して最安値をチェック！」 | 104 | 比較購買＋価格メリット |
| **書店** | 「在庫切れ？IDを入力すれば電子書籍ですぐ読める！」 | 4989 | 在庫切れ対応＋即時性 |
| **コンビニ** | 「限定商品、ローカリーでまとめ買い→配送OK！」 | 39 | まとめ買い＋配送 |
| **百貨店** | 「贈り物選び、IDを控えてご自宅でゆっくりご注文」 | 5963 | ゆっくり検討＋ギフト |
| **ドラッグストア** | 「いつものケア用品、ローカリーで定期購入 →買い忘れゼロ！」 | 1129 | 定期購入＋利便性 |
| **スポーツ用品** | 「試し履きした靴、ローカリーですぐ購入！サイズ確実！」 | 4649 | 試着後の確実な購入 |

#### 掲示場所と効果

| 掲示場所 | 効果の高さ | 推奨掲示物 | 備考 |
| ---------- | ------------ | ------------ | ------ |
| **商品棚（値札横）** | ★★★★★ | 小型POP・シール | 購買検討中の最も近い接点 |
| **商品パッケージ** | ★★★★★ | パッケージ印刷・シール | 商品そのものが広告になる |
| **レジ周辺** | ★★★★☆ | ポスター・卓上POP | 待ち時間の有効活用 |
| **出入口** | ★★★☆☆ | ポスター・デジタルサイネージ | サービス認知向上 |
| **試着室・試用スペース** | ★★★★★ | ステッカー・小型POP | 試着→即購入の最適導線 |
| **ショーケース内** | ★★★★☆ | 値札型POP | 高額商品の「後で買う」導線 |
| **フードコート・休憩所** | ★★★☆☆ | テーブルPOP・デジタルサイネージ | 検討中の来店客へのリマインド |

#### 効果的な掲示のポイント

1. **「すぐ購入」「今すぐ」等の即時性ワード**を必ず含める → 行動喚起に直結
2. **IDは商品の近くに掲示**する → 興味を持った瞬間にIDが目に入る配置
3. **語呂合わせがある場合は必ず併記**する → 記憶定着率が大幅に向上
4. **「在庫切れでもEC購入可能」を訴求**する → 店舗在庫がない場合の機会損失を防止
5. **「手ぶらで帰れる・ご自宅配送」を訴求**する → 重い商品・大きい商品で特に有効
6. **季節・イベントに合わせた掲示更新**を行う → 鮮度の高い訴求で反応率向上
7. **1桁プレミアムIDは特別感を演出**する → 「⭐限定プレミアムID」として希少性を訴求

---

## 5. 活用価値のある企業・業種

### 5.1 主要ターゲット企業

| カテゴリ | 対象企業例 | 活用メリット |
| ---------- | ------------ | -------------- |
| **大企業（製造業）** | トヨタ、ソニー、パナソニック等 | ショールーム×EC連携、直販チャネル強化 |
| **総合商社** | 三菱商事、伊藤忠、三井物産等 | グループ小売事業のDX、プラットフォーム展開 |
| **プラットフォーマー** | 楽天、Yahoo!、Amazon等 | 実店舗連携による新規ユーザー獲得 |
| **小売（実店舗+EC）** | イオン、セブン&アイ、ユニクロ等 | オムニチャネル戦略の核心技術 |
| **コンビニエンスストア** | セブンイレブン、ファミリーマート、ローソン | 限定商品のEC展開、棚割最適化 |
| **百貨店** | 三越伊勢丹、高島屋、大丸松坂屋 | 高額商品の「見てから買う」体験強化 |
| **家電量販店** | ヨドバシ、ビックカメラ、ヤマダ電機 | ショールーミング対策の決定版 |
| **アパレル** | ZARA、H&M、ユニクロ、しまむら | 試着→EC購入フローの確立 |
| **ドラッグストア** | マツモトキヨシ、ウエルシア、サンドラッグ | 定期購入EC誘導、リピート率向上 |
| **ホームセンター** | カインズ、コーナン、コメリ | 大型商品のEC配送連携 |
| **食品スーパー** | ライフ、イトーヨーカドー、オーケー | ネットスーパー連携、まとめ買い促進 |
| **不動産** | 三井不動産、住友不動産、野村不動産 | モデルルーム→オンライン相談連携 |
| **自動車ディーラー** | トヨタ、ホンダ、日産各ディーラー | 試乗→オンライン見積・購入連携 |
| **通信キャリア** | NTTドコモ、au、ソフトバンク | 店舗来店客のオンライン契約促進 |
| **飲食チェーン** | マクドナルド、スターバックス、すき家 | 物販商品（グッズ・食品）のEC誘導 |
| **書店** | 紀伊國屋、丸善ジュンク堂、TSUTAYA | 在庫切れ書籍のEC購入、電子書籍連携 |
| **スポーツ用品** | アルペン、ゼビオ、デカトロン | 試着・試用→EC購入フロー |
| **化粧品** | 資生堂、コーセー、花王 | 店頭カウンセリング→EC定期購入 |
| **旅行代理店** | JTB、HIS、近畿日本ツーリスト | 店頭相談→オンライン予約連携 |
| **銀行・金融** | 三菱UFJ、三井住友、みずほ | 窓口相談→オンライン申込連携 |
| **物流企業** | ヤマト運輸、佐川急便、日本郵便 | 宅配ロッカー×EC連携 |
| **農産物直売所** | JA各組合、道の駅 | 地方特産品のEC全国展開 |
| **展示会・イベント** | 東京ビッグサイト、幕張メッセ | 展示品→EC購入の即時連携 |
| **美術館・博物館** | 国立美術館、各地博物館 | ミュージアムショップ×ECの連携 |
| **テーマパーク** | ディズニー、USJ | パーク内グッズ→EC購入・配送 |
| **免税店** | DFS、空港免税店 | インバウンド客のEC再購入促進 |
| **BtoB卸売** | MonotaRO、ミスミ、ASKUL | 現場確認→オンライン発注連携 |

---

## 6. システム要件

### 6.1 技術スタック

| 項目 | 技術 | 備考 |
| ------ | ------ | ------ |
| **言語** | TypeScript | フロントエンド・ビルド全体 |
| **フレームワーク** | React（Vite） | SPA構成 |
| **地図** | Canvas / SVG 簡略マップ | 緯度経度ベースの独自描画（Google Maps不使用） |
| **UI** | CSS Modules / TailwindCSS | レスポンシブ対応 |
| **ホスティング** | Vercel | 静的サイト・SSRホスティング |
| **ビルド** | Vite | 高速ビルド |
| **データベース** | 不要 | コード内ハードコーディング |
| **スライド** | Reveal.js or カスタムHTML | Webスライド |

### 6.2 簡略マップの要件

Google Mapsは実装が複雑なため使用しない。代わりに緯度経度のみの簡略マップを独自実装する。

| 要件 | 詳細 |
| ------ | ------ |
| **描画方式** | HTML Canvas または SVG |
| **座標系** | 緯度経度（WGS84） |
| **多角形エリア描画** | 各商品の多角形エリアを色分けで描画 |
| **距離スケール** | 必須。広域・詳細の距離感を把握可能にする |
| **ズーム** | 広域表示⇔詳細表示の切替（スケールバー連動） |
| **ユーザー位置** | クリック/タップで位置選択。マーカー表示 |
| **凡例** | 店舗・エリアの色対応表 |
| **パン操作** | ドラッグで地図移動 |
| **外部API依存** | なし（APIキー不要） |

#### 距離スケールの仕様

```text
┌─────────────────────────────────────────┐
│                                         │
│  ● ユーザー位置                          │
│                                         │
│  ┌─────────┐  ┌──────────┐             │
│  │ 店舗A    │  │  店舗B    │             │
│  │ ID:29    │  │  ID:4649  │             │
│  │ エリア   │  │  エリア   │             │
│  └─────────┘  └──────────┘             │
│                                         │
│  ├──────┤  100m                         │  ← 距離スケール（必須）
└─────────────────────────────────────────┘

ズームレベル例:
  広域: ├──────────┤ 1km     → 都市レベル全体俯瞰
  中域: ├──────────┤ 200m    → 商店街・駅前レベル
  詳細: ├──────────┤ 50m     → 店舗周辺レベル
```

### 6.3 動作環境

| 項目 | 要件 |
| ------ | ------ |
| **対応ブラウザ** | Chrome, Firefox, Safari, Edge（最新版） |
| **対応デバイス** | PC, タブレット, スマートフォン |
| **デモ画面推奨デバイス** | PC またはタブレット（横並び2パネルで最適表示） |
| **レスポンシブ** | 対応必須（スマホ閲覧時は縦レイアウトに自動切替） |
| **通信** | HTTPS（Vercel標準） |
| **外部API** | 不要（Google Maps等の外部APIキーは使用しない） |

#### デバイス別ブレークポイント

| デバイス | 画面幅 | レイアウト |
| ---------- | -------- | ------------ |
| PC | 1024px以上 | 横並び2パネル（地図＋スマホ画面） |
| タブレット | 768px〜1023px | 横並び2パネル（比率調整） |
| スマートフォン | 767px以下 | 縦積みレイアウト（推奨バナー付き） |

### 6.4 非機能要件

| 項目 | 要件 |
| ------ | ------ |
| **パフォーマンス** | 初回読み込み 3秒以内 |
| **可用性** | Vercel SLA準拠 |
| **セキュリティ** | HTTPS通信、XSS対策 |
| **保守性** | TypeScript型安全性、コンポーネント分離 |
| **外部依存** | 外部APIキーへの依存なし |

---

## 7. 機能要件

### 7.1 トップページ

トップページには以下の要素を配置する：

#### 7.1.1 ヘッダーセクション

- サービス名称「ローカリー」
- 特許番号の表示：特開2021-033380（特許第6837635号）
- ナビゲーションメニュー

#### 7.1.2 サービス概要セクション

- ローカリーの概要説明（図解付き）
- 「実店舗商品 → EC商品URL」の変換コンセプト
- 導入の簡単さ（商品短縮ID＋多角形エリアを指定するだけ）

#### 7.1.3 料金体系セクション

- 商品短縮ID桁数別料金表
- 多角形エリア面積別料金表
- 料金シミュレーション例

#### 7.1.4 機能アピールセクション

- 本システムの主要機能と優位性
- 競合技術との差別化ポイント
- ユースケースのビジュアル説明

#### 7.1.5 機能導入による効果セクション

- 定量的な導入効果（売上向上、コスト削減等）
- 導入企業の業務改善事例
- ROI見込み

#### 7.1.6 特許範囲の明示セクション

- 請求項の要約
- 保護される技術的範囲
- ライセンス情報

#### 7.1.7 デモパターン一覧セクション

- 30パターンのデモリンク一覧
- カテゴリフィルター（用途別、規模別、エリア別、ID桁数別）
- 各パターンの概要説明

#### 7.1.8 Webスライドリンクセクション

- プレゼンテーション資料へのリンク
- スライド内容の概要

### 7.2 デモ画面（2パネル構成）

#### 7.2.1 全体レイアウト

左右2パネル構成（PC/タブレット）：

- **左パネル**: 簡略マップ（緯度経度ベース、多角形エリア表示）
- **右パネル**: スマートフォン画面シミュレーション

#### 7.2.2 左パネル（簡略マップ）

##### 多角形エリアの重層的重複表示

多角形エリアは「入れ子」構造ではなく、**自由に重複・交差・独立する**構造で描画する。

```text
┌─────────────────────────────────────────────────────┐
│  簡略マップ（緯度経度ベース）                           │
│                                                     │
│   ┌── 店舗A エリア（赤系） ─────────────┐        │
│   │                                     │        │
│   │   ┌─ ID:29 ─────┐                 │        │
│   │   │              │                 │        │
│   │   │     ┌────────┼── ID:4649 ──┐  │        │
│   │   │     │  重複   │             │  │        │
│   │   └─────┼────────┘             │  │        │
│   │         │        ← 入れ子ではなく  │  │        │
│   │         │         自由に交差       │  │        │
│   │         └──────────────────────┘  │        │
│   └─────────────────────────────────┘        │
│                                                     │
│   ┌── 店舗B エリア（青系） ─────┐                 │
│   │  ID:29 ────────────────────┐│  ← 店舗Bにも  │
│   │  ※店舗AのID:29と重複可能    ││   ID:29が存在  │
│   │  └────────────────────────┘│                 │
│   └────────────────────────────┘                 │
│                                                     │
│  ● ユーザー位置（クリックで移動）                      │
│                                                     │
│  ├──────┤ 100m          ← 距離スケール（必須）      │
│                                                     │
│  [＋][-] ズーム    凡例: ■店舗A ■店舗B              │
└─────────────────────────────────────────────────────┘
```

##### 簡略マップの操作

- **クリック/タップ**: エンドユーザー位置を選択
- **ズーム**: ＋/−ボタンまたはマウスホイール
- **パン**: ドラッグで地図移動
- **距離スケール**: ズームレベルに連動して自動更新
- **凡例**: 各店舗の色対応を表示

##### 同一ID存在時のエンドユーザー選択

エンドユーザーの位置が複数店舗の同一IDエリアに含まれる場合、右パネルのスマホ画面に店舗選択画面を表示する。対応するエリアを左パネルでハイライトする。

#### 7.2.3 右パネル（スマートフォンシミュレーション）

スマートフォンの外枠を模したフレーム内に以下の画面を表示する。

##### ID入力画面

- 現在位置表示（左パネルで選択した位置）
- 商品短縮ID入力フィールド（`inputmode="numeric"`、数字のみ）
- 検索ボタン
- サンプルIDチップ（タップで自動入力）

```text
  サンプルID例:
  [29] [4649] [3150] [1129]
    ↑ タップで入力欄に自動セット

  ⭐ 1桁IDの場合はプレミアムバッジ表示
  [⭐3] ← 1桁プレミアムID
```

##### 商品表示画面

- 商品名、価格、画像（プレースホルダー）
- EC購入リンク（ダミーURL）
- 店舗情報、在庫状況
- 戻るボタン
- 語呂合わせ表示（該当する場合）

##### 複数商品短縮ID取得時の上位表示（特許範囲外）

エンドユーザーが同一コンテキストで複数の商品短縮IDに紐づく候補を取得した場合、候補の上位表示順は競り（オークション）方式で決定する。本要件は特許第6837635号の保護範囲には含まれない機能要件として扱う。

```text
  ┌───────────────────┐
  │ ID: 4649（よろしく）│  ← 語呂合わせ表示
  │                     │
  │ 📦 新商品おすすめセット │
  │ ¥2,980              │
  │ [EC購入はこちら →]  │
  │                     │
  │ 🏪 渋谷店           │
  │ 📍 在庫: あり       │
  │ 💰 月額: ¥3,000/商品│  ← 料金参考表示
  └───────────────────┘
```

##### 店舗選択画面（同一ID複数店舗存在時）

エンドユーザーが入力したIDが、現在位置を含む複数の店舗エリアに存在する場合、以下の選択画面を表示する：

- **「複数の店舗が見つかりました」メッセージ**
- **店舗候補リスト**: 各店舗の名前・カテゴリ・概算距離を表示
- **タップで選択**: 店舗をタップするとその店舗の商品表示画面へ遷移
- **左パネル連動**: 選択肢の各店舗エリアをマップ上でハイライト

##### スマホ画面とマップの連動

- 左パネルでエンドユーザー位置を変更すると、右パネルの「現在位置」表示も連動更新
- 右パネルでID入力・検索すると、左パネルの該当エリアがハイライト
- 検索結果に合致するエリアが左パネルでフォーカス表示

#### 7.2.4 デモパターン情報バー

画面上部にデモパターンの設定情報を表示するコンパクトなバーを配置：

- パターン名
- 利用用途 / エリア規模 / ID桁数 / 導入企業規模 / 月額料金目安
- 他パターンへの切替ドロップダウン
- トップページへの戻りリンク

### 7.3 Webスライド

#### 7.3.1 スライド構成

| No. | タイトル | 内容 |
| ----- | ---------- | ------ |
| 1 | タイトル | ローカリー、特許情報 |
| 2 | 課題 | ショールーミング問題、O2Oの断絶 |
| 3 | 解決策 | 商品短縮IDによる商品情報提示 |
| 4 | 導入の簡単さ | 商品短縮ID＋多角形エリアを指定するだけ |
| 5 | 料金体系 | ID桁数×エリア面積の料金モデル |
| 6 | システム構成 | ユーザ端末、サーバ、店舗端末の関係図 |
| 7 | 処理フロー | ユーザ操作から商品情報表示までの流れ |
| 8 | デモンストレーション | デモ画面のスクリーンショット・リンク |
| 9 | 活用シーン1 | 小売業（アパレル） |
| 10 | 活用シーン2 | 家電量販店 |
| 11 | 活用シーン3 | コンビニエンスストア |
| 12 | 導入効果 | 定量的な効果指標 |
| 13 | ターゲット企業 | 活用価値のある企業カテゴリ |
| 14 | 特許情報 | 特許範囲、ライセンス情報 |
| 15 | 競合優位性 | 既存技術との比較 |
| 16 | ロードマップ | 今後の展開計画 |
| 17 | まとめ・CTA | お問い合わせ先、次のアクション |

---

## 8. デモパターン一覧（30パターン）

各デモパターンは「利用用途」「エリア規模」「ID桁数」「導入企業規模」の4軸で構成する。

> **ID形式**: デモではIDは**数字のみ**とする。**1桁から利用可能**とし、人間が覚えられる桁数（最大8桁程度）までとする。

### 8.1 パターン定義

| # | パターンID | 利用用途 | エリア規模 | ID桁数 | 導入企業規模 | 月額目安 | 概要 |
| --- | ------------ | ---------- | ------------ | -------- | -------------- | ---------- | ------ |
| 1 | CVS-S-1-SM | コンビニ | 小（単店舗） | 1桁 | 中小企業 | ¥50,500 | ⭐プレミアム1桁ID・個人経営コンビニ |
| 2 | CVS-L-4-LG | コンビニ | 大（全国チェーン） | 4桁 | 大企業 | ¥18,000 | 語呂合わせ活用・全国コンビニチェーン |
| 3 | APR-S-2-SM | アパレル | 小（単店舗） | 2桁 | 中小企業 | ¥21,500 | セレクトショップの試着→EC連携 |
| 4 | APR-M-4-MD | アパレル | 中（地域チェーン） | 4桁 | 中堅企業 | ¥8,000 | 語呂合わせ活用・地域アパレル |
| 5 | APR-L-6-LG | アパレル | 大（全国チェーン） | 6桁 | 大企業 | ¥15,800 | ファストファッション全国チェーン |
| 6 | ELC-M-4-LG | 家電量販 | 中（地域チェーン） | 4桁 | 大企業 | ¥8,000 | 語呂合わせ活用・家電量販店 |
| 7 | ELC-L-6-LG | 家電量販 | 大（全国チェーン） | 6桁 | 大企業 | ¥15,800 | 家電量販全国チェーン |
| 8 | BKS-S-2-SM | 書店 | 小（単店舗） | 2桁 | 中小企業 | ¥21,500 | 独立系書店の在庫補完EC連携 |
| 9 | BKS-L-6-LG | 書店 | 大（全国チェーン） | 6桁 | 大企業 | ¥15,800 | 大手書店チェーンの電子書籍連携 |
| 10 | HMC-M-4-MD | ホームセンター | 中（地域チェーン） | 4桁 | 中堅企業 | ¥8,000 | 地域ホームセンターの大型商品EC |
| 11 | SPM-L-6-LG | スーパーマーケット | 大（全国チェーン） | 6桁 | 大企業 | ¥15,800 | ネットスーパー連携まとめ買い促進 |
| 12 | DRG-M-4-MD | ドラッグストア | 中（地域チェーン） | 4桁 | 中堅企業 | ¥8,000 | 語呂合わせ活用・ドラッグストア |
| 13 | DRG-L-6-LG | ドラッグストア | 大（全国チェーン） | 6桁 | 大企業 | ¥15,800 | 全国ドラッグストアのヘルスケアEC |
| 14 | RES-S-1-SM | 飲食店 | 小（単店舗） | 1桁 | 小規模 | ¥50,500 | ⭐プレミアム1桁ID・個人飲食店 |
| 15 | RES-L-4-LG | 飲食チェーン | 大（全国チェーン） | 4桁 | 大企業 | ¥18,000 | 語呂合わせ活用・飲食チェーン |
| 16 | REA-M-5-LG | 不動産 | 中（地域展開） | 5桁 | 大企業 | ¥6,500 | モデルルーム→オンライン相談連携 |
| 17 | CAR-M-5-LG | 自動車ディーラー | 中（地域展開） | 5桁 | 大企業 | ¥6,500 | 試乗→オンライン見積連携 |
| 18 | DEP-L-4-LG | 百貨店 | 大（全国チェーン） | 4桁 | 大企業 | ¥18,000 | 語呂合わせ活用・百貨店高級品 |
| 19 | SPT-M-3-MD | スポーツ用品 | 中（地域チェーン） | 3桁 | 中堅企業 | ¥13,000 | スポーツ用品の試用→EC購入 |
| 20 | COS-L-6-LG | 化粧品 | 大（全国チェーン） | 6桁 | 大企業 | ¥15,800 | カウンセリング→定期購入EC |
| 21 | TRV-M-4-MD | 旅行代理店 | 中（地域展開） | 4桁 | 中堅企業 | ¥8,000 | 語呂合わせ活用・旅行代理店 |
| 22 | BNK-L-5-LG | 銀行・金融 | 大（全国展開） | 5桁 | 大企業 | ¥16,500 | 窓口→オンライン申込 |
| 23 | LOG-L-7-LG | 物流 | 大（全国展開） | 7桁 | 大企業 | ¥15,400 | 宅配ロッカー×EC連携 |
| 24 | AGR-S-1-SM | 農産物直売所 | 小（単拠点） | 1桁 | 小規模 | ¥50,500 | ⭐プレミアム1桁ID・地方特産品 |
| 25 | EXB-M-3-MD | 展示会・イベント | 中（会場規模） | 3桁 | 中堅企業 | ¥13,000 | 展示品→EC即時購入 |
| 26 | MUS-S-2-SM | 美術館・博物館 | 小（単館） | 2桁 | 小規模 | ¥21,500 | ミュージアムショップEC連携 |
| 27 | THP-L-6-LG | テーマパーク | 大（大規模施設） | 6桁 | 大企業 | ¥15,800 | パーク内グッズEC購入・配送 |
| 28 | DFS-L-8-GL | 免税店 | 大（国際展開） | 8桁 | グローバル | ¥15,200 | インバウンド客EC再購入促進 |
| 29 | B2B-L-8-LG | BtoB卸売 | 大（全国展開） | 8桁 | 大企業 | ¥15,200 | 現場確認→オンライン発注 |
| 30 | PFM-L-7-GL | プラットフォーム | 大（全国展開） | 7桁 | グローバル | ¥15,400 | マルチテナント型プラットフォーム |

### 8.2 パターン構成要素の詳細

#### エリア規模

| コード | 名称 | 店舗数目安 | 商品数目安 |
| -------- | ------ | ------------ | ------------ |
| S | 小規模（単店舗） | 1-3店舗 | 50-500商品 |
| M | 中規模（地域チェーン） | 4-20店舗 | 500-5,000商品 |
| L | 大規模（全国チェーン） | 21店舗以上 | 5,000商品以上 |

#### ID桁数と特性

| 桁数 | 候補数 | 月額/商品 | 語呂合わせ例 | 特性 |
| ------ | -------- | ----------- | -------------- | ------ |
| 1桁 | 10個 | ¥50,000 | — | ⭐プレミアム。希少価値最大 |
| 2桁 | 90個 | ¥20,000 | 29（にく） | 覚えやすい |
| 3桁 | 900個 | ¥8,000 | 104（いれよ） | バランス型 |
| 4桁 | 9,000個 | ¥3,000 | 4649（よろしく） | 語呂合わせ最適 |
| 5桁 | 90,000個 | ¥1,500 | 31504（さいこうよ） | 中規模向け |
| 6桁 | 900,000個 | ¥800 | — | 大規模チェーン |
| 7桁 | 9,000,000個 | ¥400 | — | 大量商品管理 |
| 8桁 | 90,000,000個 | ¥200 | — | 最大桁数・低単価 |

#### IDプレミアム価値

- **1桁ID（0-9）**: 世界で10個しか存在しない最希少ID。ブランド認知に最適
- **語呂合わせID**: 覚えやすさが販促効果を高める（例: 4649=よろしく）
- **短桁ID全般**: 桁数が短いほど入力しやすく、ユーザー体験が向上

#### エリア幅プレミアム価値

- **広域エリア**: 多くのエンドユーザーにリーチ可能。都市全域をカバーすれば最大効果
- **狭域エリア**: 店舗周辺に限定。低コストだがリーチは限られる
- **エリア重複**: 同一エリアに複数店舗のIDが存在する場合、ユーザーが店舗を選択

---

## 9. ワイヤーフレーム

### 9.1 ページ構成

```text
ローカリー/
├── / (トップページ)
│   ├── #about (サービス概要)
│   ├── #pricing (料金体系)
│   ├── #features (機能アピール)
│   ├── #effects (導入効果)
│   ├── #patent-scope (特許範囲)
│   ├── #demos (デモパターン一覧)
│   └── #slides (スライドリンク)
├── /demo/:patternId (デモ画面 × 30パターン)
└── /slides (Webスライド)
```

### 9.2 デモ画面ワイヤーフレーム（PC/タブレット横レイアウト）

```text
┌──────────────────────────────────────────────────────────────────────────┐
│  ローカリー デモ - [パターン名]                                            │
│  [用途] / [エリア] / [ID桁数] / [規模] / [月額目安]  [パターン切替▼]       │
├────────────────────────────────┬─────────────────────────────────────────┤
│                                │              ┌─────────┐               │
│   簡略マップ                    │              │ 📱      │               │
│   （緯度経度ベース）             │              │         │               │
│                                │              │  ID入力  │               │
│   ┌────────┐  ┌──────┐      │              │  画面    │               │
│   │ 店舗A   │  │店舗B │      │              │         │               │
│   │  エリア │  │エリア│      │              │ [29]    │               │
│   └────────┘  └──────┘      │              │ [4649]  │               │
│                                │              │ [3150]  │               │
│   ● ユーザー位置               │              │         │               │
│                                │              └─────────┘               │
│   ├──────┤ 100m               │                                         │
│   [＋][-] 凡例: ■A ■B         │              [操作説明テキスト]          │
├────────────────────────────────┴─────────────────────────────────────────┤
│  © ローカリー | 特許第6837635号                                            │
└──────────────────────────────────────────────────────────────────────────┘
```

### 9.3 スマホ画面ワイヤーフレーム（ID入力画面）

```text
┌─────────────────────┐
│ ─── ○              │  ← スマホフレーム
├─────────────────────┤
│                     │
│  🏪 [店舗名]付近    │  ← 左パネルで選択した位置
│                     │
│  商品短縮IDを入力    │
│  ┌───────────────┐  │
│  │ [数字入力]     │  │  ← inputmode="numeric"
│  └───────────────┘  │
│  [検索する]          │
│                     │
│  サンプルID:         │
│  [⭐3] [29] [4649]  │  ← タップで入力、1桁は⭐付き
│  [1129] [3150]      │
│                     │
│  💰 料金例:          │
│  1桁: ¥50,000/月    │
│  4桁: ¥3,000/月     │
│                     │
│  ─── ─── ───       │
└─────────────────────┘
```

### 9.4 スマホ画面ワイヤーフレーム（商品表示画面）

```text
┌─────────────────────┐
│ ─── ○              │
├─────────────────────┤
│ [← 戻る]           │
│                     │
│  ┌───────────────┐  │
│  │               │  │  ← 商品画像（プレースホルダー）
│  │   📦 商品画像  │  │
│  │               │  │
│  └───────────────┘  │
│                     │
│  ID: 4649（よろしく）│  ← 語呂合わせ表示
│  新商品おすすめセット │
│  ¥2,980             │
│                     │
│  [🛒 ECで購入する →]│  ← EC商品URLリンク
│                     │
│  🏪 渋谷店          │
│  📍 在庫状況: あり   │
│  💰 月額: ¥3,000    │  ← 料金参考
│                     │
│  ─── ─── ───       │
└─────────────────────┘
```

### 9.5 左右パネル連動仕様

```text
操作フロー:

左パネル(簡略マップ)                  右パネル(スマホ)
─────────────────                    ─────────────────
① マップクリック ──────────────────▶ 現在位置表示が更新
   (ユーザー位置選択)                 「渋谷区付近」

② エリア自動判定 ──────────────────▶ 該当エリアの色が濃くなる
   (多角形内包判定)                   エリア外なら「エリア外」表示

                                     ③ ID入力 & 検索
   該当エリアがハイライト ◀──────────  (数字入力 → 検索ボタン)

                                     ④ 結果表示
   マッチエリアにフォーカス ◀─────── 商品情報 + EC購入リンク表示

   ⑤ 複数店舗マッチ時
   各店舗エリアを交互ハイライト ◀──── 店舗選択画面を表示
```

### 9.6 スマートフォン縦レイアウト

スマートフォン（画面幅767px以下）では、2パネルを縦に積み上げたレイアウトに自動切替する。

```text
┌────────────────────────────────────┐
│ ⚠ PC/タブレットでの閲覧を推奨     │  ← 推奨バナー（×で非表示可）
├────────────────────────────────────┤
│ デモ - [パターン名]    [≡メニュー] │
│ [用途] / [エリア] / [ID桁数]       │
├────────────────────────────────────┤
│                                    │
│   簡略マップ                        │  ← 上部（タッチ操作対応）
│   ┌────────────┐  ┌──────────┐   │
│   │ 店舗A エリア │  │店舗B     │   │
│   └────────────┘  └──────────┘   │
│   ● ユーザー位置                   │
│   ├──────┤ 100m                   │
│                                    │
├────────────────────────────────────┤
│                                    │
│   商品短縮IDを入力                  │  ← 下部（ID入力・結果）
│   ┌──────────────────────────┐     │
│   │ [数字入力]                │     │
│   └──────────────────────────┘     │
│   [検索する]                        │
│   サンプル: [29] [4649] [3150]     │
│                                    │
├────────────────────────────────────┤
│ © ローカリー                        │
└────────────────────────────────────┘
```

#### スマートフォン縦レイアウトの商品表示画面

```text
┌────────────────────────────────────┐
│ デモ - [パターン名]    [≡メニュー] │
├────────────────────────────────────┤
│                                    │
│   簡略マップ                        │  ← 上部（マッチエリアにズーム）
│   ┌──────────────────────────┐     │
│   │  マッチしたエリアを         │     │
│   │  ハイライト表示             │     │
│   └──────────────────────────┘     │
│   ├──────┤ 50m                     │
│                                    │
├────────────────────────────────────┤
│                                    │
│   ID: 4649（よろしく）              │  ← 下部（商品情報）
│   📦 新商品おすすめセット            │
│   ¥2,980                           │
│   [🛒 ECで購入する →]              │
│                                    │
│   🏪 渋谷店                         │
│   📍 在庫: あり                     │
│   💰 月額: ¥3,000/商品             │
│                                    │
├────────────────────────────────────┤
│ © ローカリー                        │
└────────────────────────────────────┘
```

---

## 10. データ設計

### 10.1 TypeScript型定義

```typescript
/** 緯度経度 */
interface LatLng {
  lat: number;
  lng: number;
}

/** 多角形エリア定義 */
interface PolygonArea {
  id: string;                    // エリアID
  storeId: string;               // 所属店舗ID
  productShortId: string;        // 対応する商品短縮ID（数字のみ）
  vertices: LatLng[];            // 多角形の頂点座標（時計回り）
  color: string;                 // 表示色（16進数）
  opacity: number;               // 透明度（0.0-1.0）
  label: string;                 // 凡例ラベル
  areaSizeKm2?: number;          // エリア面積（km²）※料金算出用
  isPremiumArea?: boolean;       // 広域プレミアムエリアか
}

/** 店舗情報 */
interface Store {
  id: string;                    // 店舗ID
  name: string;                  // 店舗名
  category: string;              // 業種カテゴリ
  position: LatLng;              // 店舗代表位置
  polygonAreas: PolygonArea[];   // この店舗の多角形エリア一覧
}

/** 店舗ごとの商品リスト */
interface StoreProductList {
  storeId: string;
  products: Product[];
}

/** 架空商品情報 */
interface Product {
  productShortId: string;        // 商品短縮ID（数字のみ）
  name: string;                  // 架空商品名
  price: number;                 // 価格
  description: string;           // 架空説明文（2-3行）
  imageUrl: string;              // プレースホルダー画像URL
  ecUrl: string;                 // ダミーEC購入リンク
  stock: 'available' | 'few' | 'none';  // 在庫状況
  category: string;              // 商品カテゴリ
  isPremiumId?: boolean;         // 1桁プレミアムIDか
  goroawase?: string;            // 語呂合わせ読み（例: "よろしく"）
  monthlyFee: number;            // ローカリー月額料金（参考表示用）
}

/** 簡略マップの表示設定 */
interface MapConfig {
  center: LatLng;                // 初期中心座標
  zoomLevel: number;             // 初期ズームレベル
  minZoom: number;               // 最小ズーム
  maxZoom: number;               // 最大ズーム
  scaleUnit: 'm' | 'km';        // 距離スケール単位
}

/** デモパターン */
interface DemoPattern {
  id: string;                    // パターンID（例: 'CVS-S-1-SM'）
  name: string;                  // パターン名
  useCase: string;               // 利用用途
  areaScale: 'S' | 'M' | 'L';   // エリア規模
  idDigits: number;              // ID桁数（1-8）
  companyScale: string;          // 導入企業規模
  monthlyEstimate: string;       // 月額目安（表示用文字列）
  description: string;
  mapConfig: MapConfig;          // 簡略マップ初期設定
  stores: Store[];               // 店舗データ（多角形エリア含む）
  productLists: StoreProductList[];  // 商品データ
  sampleIds: string[];           // サンプルID（3-5個、数字のみ）
  hasDuplicateIds: boolean;      // 同一ID複数店舗存在デモを含むか
}
```

### 10.2 多角形エリアデータ設計

多角形エリアは各店舗の各商品短縮IDに対応し、**重層的に重複する構造**でマップ上に描画される。入れ子構造とは限らず、交差・部分重複・独立があり得る。

#### 重層的重複構造の定義

```typescript
// 例: コンビニパターンの店舗Aの多角形エリア定義
// ※ IDは全て数字のみ、エリアは入れ子ではなく重複・交差する構造
const storeA_polygons: PolygonArea[] = [
  {
    id: 'storeA-area-1',
    storeId: 'storeA',
    productShortId: '1',              // ⭐ プレミアム1桁ID
    vertices: [
      { lat: 35.6600, lng: 139.6990 },
      { lat: 35.6600, lng: 139.7020 },
      { lat: 35.6580, lng: 139.7020 },
      { lat: 35.6580, lng: 139.6990 },
    ],
    color: '#FF0000',
    opacity: 0.2,
    label: '⭐ ID:1 広域プレミアムエリア',
    areaSizeKm2: 0.06,
    isPremiumArea: true,
  },
  {
    id: 'storeA-area-29',
    storeId: 'storeA',
    productShortId: '29',             // 「にく」語呂合わせ
    vertices: [
      { lat: 35.6598, lng: 139.6995 },
      { lat: 35.6598, lng: 139.7015 },
      { lat: 35.6585, lng: 139.7015 },
      { lat: 35.6585, lng: 139.6995 },
    ],
    color: '#FF0000',
    opacity: 0.35,
    label: 'ID:29 エリア',
  },
  {
    id: 'storeA-area-4649',
    storeId: 'storeA',
    productShortId: '4649',           // 「よろしく」語呂合わせ
    vertices: [                       // ID:29のエリアと部分重複（入れ子ではない）
      { lat: 35.6595, lng: 139.7005 },
      { lat: 35.6595, lng: 139.7025 },
      { lat: 35.6582, lng: 139.7025 },
      { lat: 35.6582, lng: 139.7005 },
    ],
    color: '#FF0000',
    opacity: 0.5,
    label: 'ID:4649 エリア',
  },
];

// 店舗BにもID:29が存在 → 同一ID複数店舗のデモ
const storeB_polygons: PolygonArea[] = [
  {
    id: 'storeB-area-29',
    storeId: 'storeB',
    productShortId: '29',             // 店舗Aと同じIDが店舗Bにも存在
    vertices: [
      { lat: 35.6590, lng: 139.7010 },
      { lat: 35.6590, lng: 139.7030 },
      { lat: 35.6575, lng: 139.7030 },
      { lat: 35.6575, lng: 139.7010 },
    ],
    color: '#0000FF',
    opacity: 0.35,
    label: 'ID:29 エリア（店舗B）',
  },
  // ... 店舗Aと店舗BのID:29エリアが重複する箇所あり
];
```

#### 色設計ルール

| 店舗 | ベース色 | 広域エリア | 中域エリア | 狭域エリア | 備考 |
| ------ | ---------- | ------------ | ------------ | ------------ | ------ |
| 店舗A | #FF0000 (赤) | opacity: 0.2 | opacity: 0.35 | opacity: 0.5 | 重複部分はopacity加算 |
| 店舗B | #0000FF (青) | opacity: 0.2 | opacity: 0.35 | opacity: 0.5 | 重複部分はopacity加算 |
| 店舗C | #00AA00 (緑) | opacity: 0.2 | opacity: 0.35 | opacity: 0.5 | 重複部分はopacity加算 |
| 店舗D | #FF8800 (橙) | opacity: 0.2 | opacity: 0.35 | opacity: 0.5 | 重複部分はopacity加算 |
| 店舗E | #8800FF (紫) | opacity: 0.2 | opacity: 0.35 | opacity: 0.5 | 重複部分はopacity加算 |

※ エリアは入れ子構造ではなく自由に重複するため、重複箇所はopacityが視覚的に加算される

### 10.3 デモデータ要件

各パターンにつき以下のデモデータを用意する：

- **店舗数**: 2-5店舗（パターンの規模に応じて）
- **多角形エリア数**: 各店舗につき3-8個の多角形エリア（ID数に対応）
- **商品数**: 各店舗につき5-10商品（すべて架空商品）
- **ID形式**: 数字のみ（1桁〜8桁）
- **1桁プレミアムID**: 1桁IDパターンでは⭐バッジ付きプレミアム商品を含む
- **語呂合わせID**: 各パターンのサンプルIDに語呂合わせを含める
- **商品カテゴリ**: パターンの用途に応じた適切なカテゴリ
- **価格帯**: パターンの用途に応じた現実的な価格（1桁ID商品は高価格帯）
- **月額料金表示**: 各商品にローカリー月額料金を参考表示
- **商品画像**: プレースホルダー画像（カテゴリに応じたアイコン）
- **サンプルID**: 各パターンにつき3-5個のサンプルID（スマホ画面タップ入力用）
- **多角形頂点**: 各エリアにつき4-8頂点の座標データ
- **エリア重複**: 最低1箇所は店舗エリア同士が重複するように設計
- **同一ID重複**: 最低1パターンは同一IDが複数店舗に存在するデモを含む
- **部分重複エリア**: 同一店舗内で入れ子ではなく交差・部分重複するIDエリアを含む

---

## 11. プロジェクト構成

### 11.1 ディレクトリ構成

```text
location-code/
├── docs/
│   ├── requirements.md          # 本要件定義書
│   └── deploy.md                # デプロイ手順書
├── public/
│   ├── favicon.ico
│   └── assets/
│       └── images/              # デモ用画像
├── src/
│   ├── main.tsx                 # エントリーポイント
│   ├── App.tsx                  # ルーティング
│   ├── index.css                # グローバルスタイル
│   ├── components/
│   │   ├── layout/
│   │   │   ├── Header.tsx       # ヘッダー
│   │   │   ├── Footer.tsx       # フッター
│   │   │   └── Navigation.tsx   # ナビゲーション
│   │   ├── top/
│   │   │   ├── HeroSection.tsx         # ヒーロー
│   │   │   ├── ServiceSummary.tsx      # サービス概要
│   │   │   ├── PricingSection.tsx      # 料金体系
│   │   │   ├── FeatureAppeal.tsx       # 機能アピール
│   │   │   ├── EffectsSection.tsx      # 導入効果
│   │   │   ├── PatentScope.tsx         # 特許範囲
│   │   │   ├── DemoPatternList.tsx     # デモ一覧
│   │   │   └── SlideLink.tsx           # スライドリンク
│   │   ├── demo/
│   │   │   ├── SimpleMap.tsx            # 左パネル: 簡略マップ
│   │   │   ├── PolygonRenderer.tsx      # 多角形エリア描画
│   │   │   ├── ScaleBar.tsx             # 距離スケールバー
│   │   │   ├── MapLegend.tsx            # 凡例・表示切替
│   │   │   ├── UserLocationMarker.tsx   # ユーザー位置マーカー
│   │   │   ├── SmartphoneFrame.tsx      # 右パネル: スマホフレーム
│   │   │   ├── IdInputScreen.tsx        # スマホ: ID入力画面
│   │   │   ├── ProductResultScreen.tsx  # スマホ: 架空商品表示画面
│   │   │   ├── StoreSelectionScreen.tsx # スマホ: 同一ID複数店舗選択画面
│   │   │   ├── SampleIdChips.tsx        # サンプルIDタップチップ
│   │   │   ├── PricingBadge.tsx         # 料金バッジ表示
│   │   │   ├── PatternInfoBar.tsx       # パターン情報バー
│   │   │   └── AreaHighlighter.tsx      # エリアハイライト制御
│   │   └── slides/
│   │       ├── SlideDeck.tsx            # スライドメイン
│   │       └── slides/                  # 各スライド
│   │           ├── TitleSlide.tsx
│   │           ├── ProblemSlide.tsx
│   │           ├── SolutionSlide.tsx
│   │           ├── PricingSlide.tsx
│   │           └── ...
│   ├── data/
│   │   ├── demoPatterns.ts       # 30パターン定義
│   │   ├── stores.ts             # 店舗データ（多角形エリア含む）
│   │   ├── products.ts           # 架空商品データ
│   │   ├── polygonAreas.ts       # 多角形エリア座標データ
│   │   ├── pricing.ts            # 料金データ
│   │   └── patentInfo.ts         # 特許情報
│   ├── types/
│   │   └── index.ts              # 型定義（PolygonArea等含む）
│   ├── hooks/
│   │   ├── useProductSearch.ts   # 検索ロジック
│   │   ├── useSimpleMap.ts       # 簡略マップ制御
│   │   ├── usePolygonMatch.ts    # 多角形内判定ロジック
│   │   └── useUserLocation.ts    # ユーザー位置管理
│   ├── utils/
│   │   ├── geoUtils.ts           # 緯度経度計算ユーティリティ
│   │   ├── polygonUtils.ts       # 多角形計算（点の内包判定等）
│   │   ├── scaleUtils.ts         # 距離スケール計算
│   │   └── pricingUtils.ts       # 料金計算ユーティリティ
│   └── pages/
│       ├── TopPage.tsx            # トップページ
│       ├── DemoPage.tsx           # デモページ（2パネル構成）
│       └── SlidePage.tsx          # スライドページ
├── vercel.json                    # Vercel設定
├── package.json
├── tsconfig.json
├── vite.config.ts
└── index.html
```

---

## 12. デプロイ要件

### 12.1 Vercel設定

```json
{
  "buildCommand": "npm run build",
  "outputDirectory": "dist",
  "framework": "vite",
  "rewrites": [
    { "source": "/(.*)", "destination": "/index.html" }
  ]
}
```

### 12.2 デプロイフロー

```text
1. Vercel CLIインストール（npm i -g vercel）
2. Vercelアカウント連携（vercel login）
3. プロジェクトリンク（vercel link）
4. 依存パッケージインストール（npm install）
5. ローカルテスト（vercel dev）
6. プレビューデプロイ（vercel）
7. 本番デプロイ（vercel --prod）
```

#### GitHub連携による自動デプロイ

```text
・GitHubリポジトリをVercelにインポートすると、以下が自動化される:
  - mainブランチへのpush → 本番自動デプロイ
  - Pull Request作成 → プレビューURL自動生成
  - ビルドログ・デプロイステータスの自動通知
```

※ Google Maps APIは使用しないため、APIキーの管理は不要

---

## 13. テスト要件

### 13.1 テストケース

- **全30パターンの閲覧**: 各パターンが正常に表示・操作可能
- **簡略マップ操作**: ズーム、パン、距離スケール表示が正常に動作
- **ユーザー位置選択**: マップ上クリック/タップで位置選択が動作
- **多角形エリア判定**: 位置がエリア内/外の判定が正確
- **ID検索**: 数字入力→検索→架空商品表示の一連フロー
- **同一ID複数店舗**: 複数店舗マッチ時に選択画面が表示
- **サンプルIDタップ**: チップタップで自動入力が動作
- **レスポンシブ**: PC/タブレット/スマホで適切なレイアウト
- **距離スケール**: ズームレベルに応じてスケール表示が更新
- **料金表示**: 正しい月額料金が参考表示される
- **Webスライド**: 全スライドの表示・ページ送り
- **ナビゲーション**: トップ⇔デモ⇔スライドの遷移

### 13.2 テスト環境

| デバイス | ブラウザ | テスト内容 |
| ---------- | ---------- | ------------ |
| PC (Windows) | Chrome, Firefox, Edge | 全機能テスト |
| PC (Mac) | Chrome, Safari | 全機能テスト |
| タブレット (iPad) | Safari | レスポンシブ、タッチ操作 |
| スマートフォン (iPhone) | Safari | 縦レイアウト、タッチ操作 |
| スマートフォン (Android) | Chrome | 縦レイアウト、タッチ操作 |

---

## 14. リスク・制約事項

| リスク | 影響度 | 対策 |
| -------- | -------- | ------ |
| 簡略マップの操作性 | 中 | Canvas/SVGで十分なUXを確保。ズーム・パン・距離スケールを実装 |
| 30パターンのデータ量 | 中 | コード分割（React.lazy）・遅延読み込みで対応 |
| 多角形内包判定の精度 | 低 | Ray Casting アルゴリズムで十分な精度を確保 |
| レスポンシブ対応コスト | 中 | TailwindCSS活用で効率化 |
| 料金体系の更新 | 低 | データファイルに分離し変更容易に |

---

## 15. スケジュール

| フェーズ | 期間 | 内容 |
| ---------- | ------ | ------ |
| 設計 | 1週間 | UI設計、データ構造設計、コンポーネント設計 |
| 基盤実装 | 1週間 | プロジェクト構築、ルーティング、共通コンポーネント |
| 簡略マップ実装 | 1.5週間 | Canvas/SVGマップ、多角形描画、距離スケール、ズーム/パン |
| デモ画面実装 | 1.5週間 | 2パネル構成、ID検索、商品表示、料金表示 |
| データ作成 | 1週間 | 30パターン分のデモデータ（店舗・商品・多角形エリア・料金） |
| スライド作成 | 0.5週間 | 17枚のWebスライド |
| テスト・修正 | 1週間 | クロスブラウザ、レスポンシブ、全パターン確認 |
| デプロイ | 0.5週間 | Vercel設定・デプロイ |
| **合計** | **約8週間** | |

---

## 16. 用語集

| 用語 | 説明 |
| ------ | ------ |
| 商品短縮ID | 店舗位置情報と組み合わせて商品を特定するための短縮コード（数字のみ、1〜8桁） |
| ローカリー | 本特許技術を活用したサービスの仮称 |
| 簡略マップ | 緯度経度ベースでCanvas/SVGにより独自描画する地図。Google Maps不使用 |
| 距離スケール | マップ上の実距離を示すスケールバー。ズームレベルに連動して更新 |
| ショールーミング | 実店舗で商品を確認し、ECで購入する消費行動 |
| O2O | Online to Offline / Offline to Online の略。オンラインとオフラインの連携 |
| オムニチャネル | 実店舗、EC、アプリ等の全チャネルを統合した顧客体験 |
| SPA | Single Page Application。ページ遷移なしで動作するWebアプリ |
| Vercel | フロントエンド向けホスティングプラットフォーム。GitHub連携による自動デプロイ、プレビューURL生成等を提供 |
| Polygon（多角形エリア） | マップ上に描画する多角形の地理的範囲。店舗の商圏や商品IDの有効エリアを表現 |
| 重層的重複 | 入れ子構造ではなく、自由に交差・部分重複・独立する多角形エリアの配置構造 |
| 語呂合わせ（ゴロアワセ） | 数字の読みを日本語の言葉に見立てること。例: 4649=よろしく, 1129=いい肉 |
| プレミアムID | 1桁の希少なID（0-9）。希少性から高価値というビジネス概念をデモ化 |
| 広域プレミアムエリア | 広範囲をカバーする多角形エリア。広域ほど高価値というビジネス概念をデモ化 |
| 点の内包判定 | ユーザーの位置座標が特定の多角形エリア内に含まれるかを判定するアルゴリズム |

---

## 17. 参考情報

- **特許公報**: [J-PlatPat JP-2021-033380](https://www.j-platpat.inpit.go.jp/c1801/PU/JP-2021-033380/11/ja)
- **Google Patents**: [JP2021033380A](https://patents.google.com/patent/JP2021033380A/ja)
- **PCT国際出願**: PCT/JP2020/030880
- **Vercel**: [公式ドキュメント](https://vercel.com/docs)
- **Vite**: [公式ドキュメント](https://vitejs.dev/)
- **React**: [公式ドキュメント](https://react.dev/)
